.program feetech_bus_tx

    pull
    set pindirs, 1
    mov osr, ~osr
    set x, 7 [5]
bitloop:
    out pindirs, 1 [6]
    jmp x--, bitloop
    set pindirs, 0 [6]


.program feetech_bus_rx

    wait 0 pin 0
    set x, 7 [10]
bitloop:
    in pins, 1
    jmp x--, bitloop [6]
